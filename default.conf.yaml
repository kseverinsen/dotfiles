- defaults:
    link:
        relink: true
        force: true
- clean: ['~']
- shell:
    - mkdir -p ~/.config/nvim/autoload
    - mkdir -p ~/.config/nvim/colors
    - mkdir -p ~/.config/nvim/swap
    - mkdir -p ~/.config/nvim/backup
    - mkdir -p ~/.config/nvim/spell
    - mkdir -p ~/.config/zathura
- link:
    # Neovim
    ~/.config/nvim/init.vim: config/nvim/init.vim
    ~/.config/nvim/after: config/nvim/after
    ~/.config/nvim/ftdetect: config/nvim/ftdetect
    ~/.config/nvim/spell/en.utf-8.add: config/nvim/spell/en.utf-8.add

- shell:
  #- ["./install_generic", Installing packages]
      # TODO install coursier
    - ["[ ! -d ~/.zim ] && curl -fsSL https://raw.githubusercontent.com/zimfw/install/master/install.zsh | zsh", Installing zim]
    - ["[ ! -d ~/.tmux/plugins/tpm ] &&  git clone https://github.com/tmux-plugins/tpm ${HOME}/.tmux/plugins/tpm || exit 0", Installing tpm]
    - ["./colors/gruvbox-idea/install.bash", Installing Gruvbox Idea colorscheme]
    #- [git submodule foreach git pull origin master, Updating submodules to origin master]
    #- [git submodule update --init --recursive, Update..]
    #- [git submodule update, Updating submodules] # Update submodule to index
    #- [cd dotbot; git pull origin master]
    - [nvim +PlugInstall +qall || exit 0, Installing nvim plugins]
